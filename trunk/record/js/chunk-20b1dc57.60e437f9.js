(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b1dc57"],{"066c":function(t,e,c){"use strict";c("63c6")},"216c":function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"record-title"},[c("div",[c("div",{staticClass:"title"},[t._v(t._s(t.title))]),c("div",{staticClass:"length"},[t._v(t._s(t.dataLength+" "+t.$t("record.length")))])])])},i=[],s=(c("a9e3"),{name:"RecordTitle",props:{queryTime:{type:Number||String,default:""},dataLength:{type:Number,default:0}},computed:{title:function(){var t="";switch(this.queryTime){case 0:t=this.$t("record.toDay");break;case 1:t=this.$t("record.yesterDay");break;case 3:t=this.$t("record.threeDays");break;case 7:t=this.$t("record.sevenDays");break;case 30:t=this.$t("record.thirtyDays");break}return t}}}),r=s,n=(c("96b7"),c("2877")),o=Object(n["a"])(r,a,i,!1,null,null,null),d=o.exports;e["a"]=d},"23ce":function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"header"},[c("div",{staticClass:"left-icon",on:{click:function(e){t.show=!0}}},[c("van-icon",{attrs:{name:"arrow-left",size:"24",color:"#ffffff"},on:{click:t.back}})],1),c("div",{staticClass:"search-wrap"},[c("van-search",{attrs:{shape:"round",background:"#4fc08d",disabled:"",placeholder:t.$t("record.enterInputTip")},nativeOn:{click:function(e){return t.toSearch(e)}}})],1),t.showRight?c("div",{staticClass:"rigth-icon",on:{click:function(e){t.show=!0}}},[c("Icon",{attrs:{"icon-name":"iconshijian","font-color":"#ffffff"}})],1):c("div",{staticClass:"rigth"}),c("van-action-sheet",{attrs:{actions:t.actions,"close-on-click-action":""},on:{select:t.onSelectTime},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},i=[],s=c("ae60"),r={name:"SearchHeader",components:{Icon:s["a"]},props:{showRight:{type:Boolean,default:!0}},data:function(){return{show:!1,actions:[{name:this.$t("record.toDay"),time:0},{name:this.$t("record.yesterDay"),time:1},{name:this.$t("record.threeDays"),time:3},{name:this.$t("record.sevenDays"),time:7},{name:this.$t("record.thirtyDays"),time:30}]}},methods:{back:function(t){t.preventDefault(),this.$router.push("/home")},toSearch:function(){this.$router.push("".concat(this.$route.path,"/search"))},onSelectTime:function(t,e){this.$emit("select-time",t)}}},n=r,o=(c("066c"),c("2877")),d=Object(o["a"])(n,a,i,!1,null,null,null),u=d.exports;e["a"]=u},"2bb9":function(t,e,c){},"2d05":function(t,e,c){},"5a75":function(t,e,c){"use strict";c("2d05")},"63c6":function(t,e,c){},"96b7":function(t,e,c){"use strict";c("e2a9")},c5de:function(t,e,c){"use strict";c("2bb9")},e2a9:function(t,e,c){},f950:function(t,e,c){"use strict";c.r(e);var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"acc full"},[c("div",{staticClass:"acc-wrap full"},[c("search-header",{on:{"select-time":t.onSelectTime}}),c("record-title",{attrs:{"query-time":t.queryTime,"data-length":t.dataList.length}}),c("div",{staticClass:"data-list"},[0==t.dataList.length?c("div",{staticClass:"full",staticStyle:{"background-color":"#fff"}},[c("van-empty",{attrs:{description:t.$t("tips.noData")}})],1):t._e(),t._l(t.dataList,(function(t,e){return[c("acc-item",{attrs:{data:t}})]}))],2)],1),c("router-view")],1)},i=[],s=c("5530"),r=(c("b0c0"),c("159b"),c("2f62")),n=c("b562"),o=c("c276"),d=c("23ce"),u=c("216c"),l=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"record-item"},[c("div",{staticClass:"record-item-title"},[c("div",{staticClass:"item-icon"},[c("Icon",{attrs:{"icon-name":"iconcar","font-size":18,"font-color":"#23B96A"}})],1),c("div",{staticClass:"item-title"},[c("div",{staticClass:"item-device-name"},[c("b",[t._v(t._s(t.data.devicename))])]),c("div",{staticClass:"item-device-id",style:t.textSty},[t._v(t._s(t.$t("record.deviceId"))+" : "+t._s(t.data.deviceid))])])]),c("div",{staticClass:"record-item-content-acc"},[c("div",{style:t.textSty},[t._v(t._s(t.$t("record.creater"))+" : "+t._s(t.data.creater))]),c("div",{style:t.textSty},[t._v(t._s(t.$t("record.driveName"))+" : -")]),c("div",{style:t.textSty},[t._v(t._s(t.$t("record.accCount"))+" : "+t._s(t.data.opennumber))]),c("div",{style:t.textSty},[t._v(t._s(t.$t("record.accDuration"))+" : "+t._s(t.data.duration))])])])},h=[],f=c("ae60"),m={name:"AccItem",components:{Icon:f["a"]},props:{data:{type:Object,default:function(){return{}}},textColor:{type:String,default:"#989898"}},computed:{textSty:function(){return{color:this.textColor}}}},v=m,p=(c("5a75"),c("2877")),y=Object(p["a"])(v,l,h,!1,null,null,null),b=y.exports,$=b,_={name:"acc",components:{SearchHeader:d["a"],RecordTitle:u["a"],AccItem:$},beforeRouteUpdate:function(t,e,c){if(c(),"search"==e.name){var a=this.$route.query.updated;1==a&&this.queryAccRecord()}},data:function(){return{queryTime:0,dataList:[]}},methods:{back:function(){this.$router.push("/home")},onSelectTime:function(t){this.queryTime=t.time,this.queryAccRecord()},clearData:function(){this.dataList=[]},queryAccRecord:function(){var t=this,e=0==this.selectedList.length?Object(o["a"])(this.groups):this.selectedList,c=Object(o["c"])(this.queryTime);c.deviceids=e.length,Object(n["d"])(c).then((function(e){var c=e.status,a=e.records;0===c?t.dataList=t.getDataList(a):t.clearData()})).catch((function(e){t.clearData(),t.$toast(t.$t("tips.networkError"))}))},getDataList:function(t){var e=this,c=[];return t.forEach((function(t){var a=t.deviceid,i=t.records,s=e.deviceNames[a],r=s.devicename,n=s.creater,o=0,d=0;i.forEach((function(t){3==t.accstate&&(o+=t.endtime-t.begintime,d++)})),c.push({devicename:r,deviceid:a,creater:n,duration:e.timeStr(o),opennumber:d})})),c},timeStr:function(t){var e="",c=parseInt(t/864e5),a=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4),s=parseInt(t%6e4/1e3);return c&&(e+=c+this.$t("record.d")),a&&(e+=a+this.$t("record.h")),i&&(e+=i+this.$t("record.m")),s&&(e+=s+this.$t("record.s")),""==e?"0"+this.$t("record.m"):e}},computed:Object(s["a"])({},Object(r["d"])(["groups","selectedList","deviceNames"])),mounted:function(){this.queryAccRecord()}},g=_,C=(c("c5de"),Object(p["a"])(g,a,i,!1,null,null,null));e["default"]=C.exports}}]);